alias receivedTxMem d0 # read by silo controls
alias receivedRxMem d1 # written by fab controls

alias x r0

s receivedTxMem Setting 0

main:
yield
jal checkTx
jal checkRx
j main

checkTx:
beqz sp ra
l x receivedTxMem Setting
bnez x ra
pop x
s receivedTxMem Setting x
j ra

checkRx:
l x receivedRxMem Setting
beqz x ra
s db Setting x
push x
s receivedRxMem Setting 0
j ra