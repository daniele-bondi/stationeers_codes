alias receivedTxMem d0 # read by silo controls
alias receivedRxMem d1 # written by fab controls

alias x r0

main:
yield
jal checkTx
jal checkRx
j main

checkTx:
breqz sp ra
l x receivedTxMem Setting
bnez x ra
pop x
s receivedTxMem Setting x
j ra

checkRx:
l x receivedRxMem Setting
beqz x ra
push x
s receivedRxMem Setting 0
j ra